---
title: ğŸˆLiteflowResponseå¯¹è±¡
date: 2022-07-02 00:52:14
permalink: /pages/9f653d/
---

åœ¨æ‰§è¡Œå™¨è¿”å›ä¸­ï¼Œç”¨çš„æœ€å¤šçš„å°±æ˜¯è¿”å›ä¸€ä¸ª`LiteFlowResponse`å¯¹è±¡ã€‚



è¿™ä¸ªå¯¹è±¡é‡Œé¢åŒ…å«äº†å¾ˆå¤šç»“æœæ•°æ®å’Œè¿‡ç¨‹æ•°æ®ã€‚



## æµç¨‹æ‰§è¡Œæ˜¯å¦æˆåŠŸ

ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæµç¨‹æ˜¯å¦æ‰§è¡ŒæˆåŠŸï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", åˆå§‹å‚æ•°, CustomContext.class);
boolean isSuccess = response.isSuccess();
```



## è·å–å¼‚å¸¸ä¿¡æ¯

å¦‚æœä¸€ä¸ªæµç¨‹isSuccessä¸ºfalseï¼Œåˆ™å¿…ç„¶æœ‰å¼‚å¸¸ä¿¡æ¯ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥è·å¾—å¼‚å¸¸ï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", åˆå§‹å‚æ•°, CustomContext.class);
if (!response.isSuccess()){
  Exception e = response.getCause();
}
```



## è·å¾—æ‰§è¡Œæ­¥éª¤è¯¦ç»†ä¿¡æ¯

ç»“æœä¿¡æ¯ä¸­ä¹Ÿå°è£…äº†æµç¨‹æ‰§è¡Œæ¯ä¸€æ­¥çš„è¯¦ç»†ä¿¡æ¯ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥è·å–ï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", åˆå§‹å‚æ•°, CustomContext.class);
Map<String, CmpStep> stepMap = response.getExecuteSteps();
```

å…³äºæ­¥éª¤ä¿¡æ¯çš„è¯¦ç»†è¯·å‚è€ƒ[æ­¥éª¤ä¿¡æ¯](/pages/e5ed0d/)ã€‚



## ä¸Šä¸‹æ–‡æ•°æ®

æµç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šå¯¹ä¸Šä¸‹æ–‡æ•°æ®è¿›è¡Œè¯»å†™æ“ä½œã€‚ä¸€ä¸ªæµç¨‹çš„è¿”å›æ•°æ®ä¹Ÿåº”å½“åŒ…å«åœ¨ä¸Šä¸‹æ–‡ä¸­ã€‚

ä½ è·å¾—äº†`LiteFlowResponse`å¯¹è±¡ä¹‹åï¼Œå¯ä»¥è¿™æ ·è·å¾—ä¸Šä¸‹æ–‡Beanï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", åˆå§‹å‚æ•°, CustomContext.class);
CustomContext context = response.getContextBean(CustomContext.class);
//å¯¹äºåªæœ‰ä¸€ä¸ªä¸Šä¸‹æ–‡çš„responseæ¥è¯´ï¼Œç”¨ä¸‹é¢è¿™å¥ä¹Ÿæ˜¯ç­‰ä»·çš„
//CustomContext context = response.getFirstContextBean();
```

å¯¹äºå¤šä¸Šä¸‹æ–‡æ¥è¯´ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ç”¨æ³•ï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", åˆå§‹å‚æ•°, OrderContext.class, UserContext.class);
OrderContext orderContext = response.getContextBean(OrderContext.class);
UserContext userContext = response.getContextBean(UserContext.class);
```

## è·å¾—æ­¥éª¤å­—ç¬¦ä¸²ä¿¡æ¯

è·å¾—ä¸€ä¸ªç®€å•æ˜“æ‡‚çš„ç»„ä»¶æ­¥éª¤çš„å­—ç¬¦ä¸²æ‹¼è£…ä¿¡æ¯ï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", åˆå§‹å‚æ•°, CustomContext.class);
String stepStr = response.getExecuteStepStr();
```

è¿™ä¸ªå­—ç¬¦ä¸²æ‰“å°å‡ºæ¥ç»“æœå¦‚ä¸‹ï¼š

```
a[ç»„ä»¶A]<201>==>b[ç»„ä»¶B]<300>==>m[ç»„ä»¶M]<1205>
```

è¿™é‡Œçš„è¡¨è¾¾å½¢å¼ä¸º`ç»„ä»¶ID[ç»„ä»¶åˆ«å]<è€—æ—¶æ¯«ç§’>`ã€‚å…³äºå¦‚ä½•è®¾ç½®ç»„ä»¶åˆ«åå¯ä»¥å‚è€ƒ[ç»„ä»¶åˆ«å](/pages/92ef89/)ã€‚

åŒæ—¶ï¼Œresponseå¯¹è±¡é‡Œè¿˜æä¾›äº†`getExecuteStepStrWithoutTime`è¿™ä¸ªæ–¹æ³•ï¼Œç”¨äºè¿”å›ä¸å¸¦æœ‰è€—æ—¶æ—¶é—´çš„æ­¥éª¤å­—ç¬¦ä¸²ã€‚

:::tip
äº‹å®ä¸Šï¼Œåœ¨æ¯ä¸€ä¸ªæµç¨‹æ‰§è¡Œç»“æŸåï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨æ‰“å°è¿™ä¸ªæ­¥éª¤å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æ— éœ€ä½ è‡ªå·±è·å–æ‰“å°ã€‚

è¿™é‡Œåªæ˜¯è¯´æ˜å¦‚ä½•è·å–ï¼Œå¦‚æœä½ è¦æŒä¹…åŒ–ä¸‹æ¥ï¼Œå¯ä»¥è¿™æ ·è·å–ã€‚
:::