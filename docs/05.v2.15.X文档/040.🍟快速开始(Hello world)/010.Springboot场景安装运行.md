---
title: ğŸŒ¿Springbootåœºæ™¯å®‰è£…è¿è¡Œ
date: 2025-08-28 11:24:50
permalink: /pages/9bf6be/
---

## ä¾èµ–

LiteFlowæä¾›äº†liteflow-spring-boot-starterä¾èµ–åŒ…ï¼Œæä¾›è‡ªåŠ¨è£…é…åŠŸèƒ½

```xml
<dependency>
    <groupId>com.yomahub</groupId>
    <artifactId>liteflow-spring-boot-starter</artifactId>
    <version>2.13.2</version>
</dependency>
```

ä¸ºç¨³å®šç‰ˆæœ¬ï¼Œç›®å‰jaråŒ…å·²ä¸Šä¼ ä¸­å¤®ä»“åº“ï¼Œå¯ä»¥ç›´æ¥ä¾èµ–åˆ°

## ç»„ä»¶çš„å®šä¹‰

åœ¨ä¾èµ–äº†ä»¥ä¸ŠjaråŒ…åï¼Œä½ éœ€è¦å®šä¹‰å¹¶å®ç°ä¸€äº›ç»„ä»¶ï¼Œç¡®ä¿SpringBootä¼šæ‰«æåˆ°è¿™äº›ç»„ä»¶å¹¶æ³¨å†Œè¿›ä¸Šä¸‹æ–‡ã€‚

```java
@LiteflowComponent("a")
public class ACmp extends NodeComponent {

	@Override
	public void process() {
		//do your business
	}
}
```

ä»¥æ­¤ç±»æ¨å†åˆ†åˆ«å®šä¹‰b,cç»„ä»¶ï¼š

```java
@LiteflowComponent("b")
public class BCmp extends NodeComponent {

	@Override
	public void process() {
		//do your business
	}
}
```

```java
@LiteflowComponent("c")
public class CCmp extends NodeComponent {

	@Override
	public void process() {
		//do your business
	}
}
```

## SpringBooté…ç½®æ–‡ä»¶

ç„¶åï¼Œåœ¨ä½ çš„SpringBootçš„application.propertiesæˆ–è€…application.ymlé‡Œæ·»åŠ é…ç½®(è¿™é‡Œä»¥propertiesä¸ºä¾‹ï¼Œyamlä¹Ÿæ˜¯ä¸€æ ·çš„)

æ›´å¤šé…ç½®é¡¹è¯·å‚è€ƒ[é…ç½®é¡¹](/pages/4594ec/)ç« èŠ‚ã€‚

```properties
liteflow.rule-source=config/flow.xml
```

## è§„åˆ™æ–‡ä»¶çš„å®šä¹‰
åŒæ—¶ï¼Œä½ å¾—åœ¨resourcesä¸‹çš„`config/flow.xml`ä¸­å®šä¹‰è§„åˆ™ï¼š
```xml
<?xml version="1.0" encoding="UTF-8"?>
<flow>
    <chain name="chain1">
        THEN(a, b, c);
    </chain>
</flow>
```

SpringBootåœ¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨è£…è½½è§„åˆ™æ–‡ä»¶ã€‚

## æ‰§è¡Œ
å£°æ˜å¯åŠ¨ç±»ï¼š

```java
@SpringBootApplication
//æŠŠä½ å®šä¹‰çš„ç»„ä»¶æ‰«å…¥Springä¸Šä¸‹æ–‡ä¸­
@ComponentScan({"com.xxx.xxx.cmp"})
public class LiteflowExampleApplication {

    public static void main(String[] args) {
        SpringApplication.run(LiteflowExampleApplication.class, args);
    }
}
```

ç„¶åä½ å°±å¯ä»¥åœ¨Springbootä»»æ„è¢«Springæ‰˜ç®¡çš„ç±»ä¸­æ‹¿åˆ°flowExecutorï¼Œè¿›è¡Œæ‰§è¡Œé“¾è·¯ï¼š

```java
@Component
public class YourClass{
    
    @Resource
    private FlowExecutor flowExecutor;
    
    public void testConfig(){
        LiteflowResponse response = flowExecutor.execute2Resp("chain1", "arg", DefaultContext.class);
    }
}
```

::: tip
è¿™ä¸ª`DefaultContext`æ˜¯é»˜è®¤çš„ä¸Šä¸‹æ–‡ï¼Œç”¨æˆ·å¯ä»¥ç”¨æœ€è‡ªå·±çš„ä»»æ„Beanå½“åšä¸Šä¸‹æ–‡ä¼ å…¥ï¼Œå¦‚æœéœ€è¦ä¼ å…¥è‡ªå·±çš„ä¸Šä¸‹æ–‡ï¼Œåˆ™éœ€è¦ä¼ ç”¨æˆ·Beançš„Classå±æ€§ï¼Œå…·ä½“è¯·çœ‹[æ•°æ®ä¸Šä¸‹æ–‡](/pages/74b4bf/)è¿™ä¸€ç« èŠ‚ã€‚
:::