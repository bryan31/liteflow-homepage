---
title: ğŸ“‹Nacosé…ç½®æº
date: 2022-10-06 23:19:04
permalink: /pages/09b776/
---

**ç‰ˆæœ¬æ”¯æŒï¼š**<Badge text="v2.9.0+" vertical="middle"/>

LiteFlowåŸç”Ÿæ”¯æŒäº†Nacosçš„è§„åˆ™é…ç½®æºã€‚

## ä¾èµ–

å¦‚æœä½¿ç”¨Nacosä½œä¸ºè§„åˆ™é…ç½®æºï¼Œä½ éœ€è¦æ·»åŠ ä»¥ä¸‹é¢å¤–æ’ä»¶ä¾èµ–ï¼š

```xml
<dependency>
    <groupId>com.yomahub</groupId>
    <artifactId>liteflow-rule-nacos</artifactId>
    <version>2.12.4</version>
</dependency>
```

## é…ç½®

ä¾èµ–äº†æ’ä»¶åŒ…ä¹‹åï¼Œä½ æ— éœ€å†é…ç½®`liteflow.ruleSource`è·¯å¾„ã€‚

åªéœ€è¦é…ç½®æ’ä»¶çš„é¢å¤–å‚æ•°å³å¯ï¼š

<code-group>
  <code-block title="Yamlé£æ ¼é…ç½®" active>

```yaml
liteflow:
  rule-source-ext-data-map:
    serverAddr: 127.0.0.1:8848
    dataId: demo_rule
    group: DEFAULT_GROUP
    namespace: your namespace id
    username: nacos
    password: nacos
```
  </code-block>
  <code-block title="Propertiesé£æ ¼é…ç½®">

```properties
liteflow.rule-source-ext-data={\
    "serverAddr":"127.0.0.1:8848",\
    "dataId":"demo_rule",\
    "group":"DEFAULT_GROUP",\
    "namespace":"your namespace id",\
    "username":"nacos",\
    "password":"nacos"\
}
```
  </code-block>

</code-group>

## å¯¹é˜¿é‡Œäº‘MSEçš„æ”¯æŒ<Badge text="v2.11.4+"/>

è‡ªä»v2.11.4å¼€å§‹ï¼ŒLiteFlowå¯¹é˜¿é‡Œäº‘çš„MSEä¹Ÿè¿›è¡Œäº†æ”¯æŒï¼Œé…ç½®å¦‚ä¸‹:

```properties
liteflow.rule-source-ext-data={\
    "serverAddr":"127.0.0.1:8848",\
    "dataId":"demo_rule",\
    "group":"DEFAULT_GROUP",\
    "namespace":"your namespace id",\
    "accessKey":"xxxxxxxxxx",\
    "secretKey":"xxxxxxxxxx"\
}
```

## é…ç½®è¯´æ˜

| é…ç½®é¡¹     | è¯´æ˜                             |
| ---------- | -------------------------------- |
| serverAddr | nacosçš„è¿æ¥ä¸²                    |
| dataId     | æ•´ä¸ªè§„åˆ™+è„šæœ¬çš„xmlå­˜å‚¨æ•°æ®èŠ‚ç‚¹id |
| group      | nacosçš„group                     |
| namespace  | nacosçš„namespace                 |
| username   | nacosçš„ç”¨æˆ·                      |
| password   | nacosçš„å¯†ç                       |
| accessKey  | é˜¿é‡Œäº‘çš„accessKey                |
| secretKey  | é˜¿é‡Œäº‘çš„secretKey                |



## å­˜å‚¨æ•°æ®è¯´æ˜

::: danger
éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œä½¿ç”¨Nacosé…ç½®æºçš„æ—¶å€™ï¼ŒNacosé‡Œå­˜çš„åªèƒ½æ˜¯xmlå½¢å¼çš„é…ç½®ã€‚
:::

æ¯”å¦‚ï¼š

```xml
<?xml version="1.0" encoding="UTF-8"?>
<flow>
  	<nodes>
      <node id="s1" type="script">
        ä½ çš„è„šæœ¬ä»£ç 
      </node>
    </nodes>
  
    <chain name="chain1">
      THEN(a, b, c);
    </chain>
</flow>
```



## è‡ªåŠ¨åˆ·æ–°

ä½¿ç”¨äº†æ­¤Nacosé…ç½®æºæ’ä»¶ï¼Œå‡¡æ˜¯NacosèŠ‚ç‚¹é‡Œé¢çš„è§„åˆ™æ”¹åŠ¨ï¼Œä¼šè‡ªåŠ¨æ¨é€åˆ°ä¸šåŠ¡ç³»ç»Ÿï¼Œè¿›è¡Œå®æ—¶çš„å¹³æ»‘çƒ­åˆ·æ–°ã€‚ä½ æ— éœ€åšä»»ä½•äº‹æƒ…ã€‚

## å°ä¾‹å­
ä¸ºäº†è®©å¤§å®¶èƒ½ç®€å•ä¸Šæ‰‹Nacosè§„åˆ™æ–‡ä»¶çš„é…ç½®å’Œè¿è¡Œï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå°demoï¼Œå¤§å®¶å¯ä»¥æ‹‰åˆ°æœ¬åœ°æ¥è¿è¡Œï¼Œéœ€è¦ä½ æ›¿æ¢Nacosçš„é…ç½®ä¿¡æ¯ã€‚

è¿è¡Œé¡¹ç›®å‰ï¼Œå…ˆè¯»é¡¹ç›®é‡Œçš„`readme.txt`æ–‡ä»¶ã€‚

> https://github.com/bryan31/liteflow-ext-rule-demo