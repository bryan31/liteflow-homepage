---
title: ğŸ¥™ä¸Šä¸‹æ–‡å‚æ•°æ³¨å…¥
date: 2024-05-30 10:50:09
permalink: /pages/v2.12.X/8777f8/
---

**ç‰ˆæœ¬æ”¯æŒï¼š**<Badge text="v2.12.1+" vertical="middle"/>

:::tip
è¯·æ³¨æ„ï¼Œè¿™ä¸ªç‰¹æ€§åªé€‚ç”¨äº[å£°æ˜å¼ç»„ä»¶](/pages/v2.12.X/46f0fa/)ã€‚æ™®é€šçš„ç»§æ‰¿å¼ç»„ä»¶å¹¶ä¸æ”¯æŒï¼

ä»¥ä¸‹æ‰€æœ‰ä¾‹å­é‡‡ç”¨[æ–¹æ³•çº§åˆ«å¼å£°æ˜](/pages/v2.12.X/797830/)ã€‚[ç±»çº§åˆ«å¼å£°æ˜](/pages/v2.12.X/18f548/)ä¹Ÿæ˜¯å¯ä»¥ç”¨æ­¤ç‰¹æ€§çš„ã€‚
:::

æˆ‘ä»¬åœ¨ç»„ä»¶é‡Œé¢å†™ä¸šåŠ¡ï¼Œé¦–å…ˆè‚¯å®šå°±æ˜¯è¦æ‹¿åˆ°ä¸Šä¸‹æ–‡ï¼Œåœ¨å£°æ˜å¼ç»„ä»¶é‡Œé€šå¸¸çš„å†™æ³•ä¸ºï¼š

```java
@LiteflowMethod(value = LiteFlowMethodEnum.PROCESS,nodeType = NodeTypeEnum.COMMON, nodeId = "b")
public void processB(NodeComponent bindCmp) {
    YourContext context = bindCmp.getContextBean(YourContext.class);
    //ä»contextä¸­å–åˆ°ä¸šåŠ¡æ•°æ®è¿›è¡Œå¤„ç†
    User user = context.getUser();
    ...
}
```

å¦‚æœç»„ä»¶ä¸€å¤šï¼Œé‚£å…ä¸äº†æ¯æ¬¡éƒ½è¦å†™è¿™ä¹ˆä¸€å¥æ‹¿contextï¼Œè™½ç„¶ä¸å½±å“ä»€ä¹ˆæ€§èƒ½ï¼Œä½†æ˜¯éå¸¸ç¹çã€‚

LiteFlowä»2.12.1å¼€å§‹æ¨å‡ºäº†ä¸Šä¸‹æ–‡å‚æ•°æ³¨å…¥ç‰¹æ€§ï¼Œå¯ä»¥åœ¨æ–¹æ³•å‚æ•°ä¸­æ³¨å…¥ä½ æ‰€éœ€çš„ä¸Šä¸‹æ–‡æ•°æ®ï¼Œä»è€Œç›´æ¥æ‹¿åˆ°ï¼Œæ— éœ€å†æ¯æ¬¡å–ä¸€æ¬¡äº†ã€‚

å‡è®¾ä½ çš„ä¸Šä¸‹æ–‡å¦‚ä¸‹ï¼š

```java
public class TestContext {

    private User user;

    private String data1;
    
    //getter setter çœç•¥   
}
```

ä½ åœ¨å£°æ˜å¼ç»„ä»¶ä¸­ä½¿ç”¨`@LiteflowFact`æ¥å®šä¹‰ä½ çš„æ³¨å…¥å‹å‚æ•°ï¼š

```java
@LiteflowComponent
public class CmpConfig {

    @LiteflowMethod(value = LiteFlowMethodEnum.PROCESS, nodeType = NodeTypeEnum.COMMON, nodeId = "a")
    public void processA(NodeComponent bindCmp,
                        @LiteflowFact("user") User user) {
        user.setName("jack");
    }
}
```

ä½¿ç”¨å‚æ•°æ³¨å…¥ç‰¹æ€§ï¼Œå¯ä»¥æŠŠä¸Šä¸‹æ–‡ä¸­å·²æœ‰çš„å€¼æ³¨å…¥åˆ°æ–¹æ³•å‚æ•°ä¸Šï¼Œä¸Šé¢è¿™ä¸ªä¾‹å­ä½ å°±å¯ä»¥ç›´æ¥è·å¾—ä¸Šä¸‹æ–‡ä¸­`user`è¿™ä¸ªå¯¹è±¡ã€‚

å¦‚æœå¯¹è±¡æ¯”è¾ƒæ·±ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡ç‚¹æ“ä½œç¬¦çš„æ–¹å¼ï¼š

```java
@LiteflowComponent
public class CmpConfig {

    @LiteflowMethod(value = LiteFlowMethodEnum.PROCESS, nodeType = NodeTypeEnum.COMMON, nodeId = "a")
    public void processA(NodeComponent bindCmp,
                        @LiteflowFact("user.company.address") String address) {
        //do biz
    }
}
```

ä»¥ä¸Šè¿™ä¸ªä¾‹å­è¡¨ç¤º`address`å‚æ•°å–è‡ªäºä¸Šä¸‹æ–‡ä¸­çš„`User`å¯¹è±¡ä¸­çš„`Company`å¯¹è±¡ä¸­çš„`address`å­—æ®µã€‚

å½“ç„¶ä½ ä¹Ÿå¯ä»¥æ³¨å…¥å¤šä¸ªï¼š

```java
@LiteflowComponent
public class CmpConfig {

    @LiteflowMethod(value = LiteFlowMethodEnum.PROCESS, nodeType = NodeTypeEnum.COMMON, nodeId = "a")
    public void processA(NodeComponent bindCmp,
                        @LiteflowFact("user.name") String name,
                        @LiteflowFact("data1") String data1) {
        //do biz
    }
}
```

ä½ åœ¨`@LiteflowFact`ä¸­å†™çš„è¡¨è¾¾å¼ï¼Œä¼šè‡ªåŠ¨çš„ä»ä¸Šä¸‹æ–‡ä¸­æœç´¢ç›¸åº”çš„å‚æ•°ã€‚å³ä½¿ä½ æœ‰å¤šä¸ªä¸Šä¸‹æ–‡ï¼Œä¹Ÿæ— éœ€å»æŒ‡å®šä¸Šä¸‹æ–‡ã€‚

ä½†æ˜¯æœ‰ä¸€ç§æƒ…å†µï¼Œåœ¨ä½¿ç”¨æ—¶è¦æ³¨æ„ï¼šå‡è®¾ä½ æœ‰ä¸¤ä¸ªä¸Šä¸‹æ–‡ï¼Œ`TestContext1`å’Œ`TestContext2`ï¼Œåœ¨è¿™ä¸¤ä¸ªä¸Šä¸‹æ–‡é‡Œéƒ½æœ‰`user`è¿™ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”ä¸¤ä¸ªuseré‡Œçš„ä¿¡æ¯æ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™æ—¶ä½ é€šè¿‡`@LiteflowFact("user") User user`è¿™æ ·å»æ‹¿ï¼Œæ‹¿åˆ°çš„æ˜¯ç¬¬ä¸€ä¸ªuserï¼Œåœ¨ä¸åŒç¯å¢ƒä¸Šå¯èƒ½è¿˜ä¸ä¸€æ ·ã€‚

æ‰€ä»¥ä½¿ç”¨ä¸Šä¸‹æ–‡å‚æ•°æ³¨å…¥ç‰¹æ€§æ—¶ï¼Œå¦‚æœæœ‰å¤šä¸ªä¸Šä¸‹æ–‡ï¼Œè¯·ç¡®ä¿æ³¨å…¥çš„å¯¹è±¡ï¼Œåœ¨å¤šä¸ªä¸Šä¸‹æ–‡ä¸­åªæœ‰ä¸€ä»½ï¼Œå¦åˆ™ä¼šæœ‰é”™ä¹±æƒ…å†µã€‚