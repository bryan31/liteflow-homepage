---
title: ğŸ³æ‰§è¡Œæ—¶ç”Ÿå‘½å‘¨æœŸ
date: 2024-10-13 20:56:44
permalink: /pages/v2.13.X/f6ae9e/
---

**ç‰ˆæœ¬æ”¯æŒï¼š**<Badge text="v2.12.4+" vertical="middle"/>

LiteFlowåœ¨æ‰§è¡Œæ—¶ä¹Ÿæä¾›äº†ä¸€äº›ç”Ÿå‘½å‘¨æœŸæ¥å£ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®éœ€è¦å»å®ç°å®ƒä»¬ï¼Œä»è€Œåšåˆ°åœ¨æ‰§è¡Œçš„ç‰¹å®šæ—¶æœºæ’å…¥è‡ªå·±çš„é€»è¾‘ã€‚

## FlowExecutoræ‰§è¡Œå‰å

è¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‘ç”Ÿåœ¨FlowExecutorå¯¹è±¡æ‰§è¡Œè§„åˆ™çš„æ—¶å€™ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡FlowExecutorå°±ä¼šè°ƒç”¨ä¸€æ¬¡ã€‚

å¼€å‘è€…åªè¦å®ç°å¦‚ä¸‹æ¥å£ï¼Œå¹¶æ³¨å†Œåˆ°spring/solonçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œå°±å¯ä»¥å£°æ˜äº†ã€‚

```java
@Component
public class TestFlowExecuteLifeCycle implements PostProcessFlowExecuteLifeCycle {
    @Override
    public void postProcessBeforeFlowExecute(String chainId, Slot slot) {
        //do something
    }

    @Override
    public void postProcessAfterFlowExecute(String chainId, Slot slot) {
        //do something
    }
}
```

## Chainæ‰§è¡Œå‰å

è¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‘ç”Ÿåœ¨Chainå¯¹è±¡æ‰§è¡Œçš„æ—¶å€™ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡Chainå°±ä¼šè°ƒç”¨ä¸€æ¬¡ã€‚

å¼€å‘è€…åªè¦å®ç°å¦‚ä¸‹æ¥å£ï¼Œå¹¶æ³¨å†Œåˆ°spring/solonçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œå°±å¯ä»¥å£°æ˜äº†ã€‚

```java
@Component
public class TestChainExecuteLifeCycle implements PostProcessChainExecuteLifeCycle {
    @Override
    public void postProcessBeforeChainExecute(String chainId, Slot slot) {
        //do something
    }

    @Override
    public void postProcessAfterChainExecute(String chainId, Slot slot) {
        //do something
    }
}
```

è¿™ä¸ªå’ŒFlowExecutoræ‰§è¡Œç”Ÿå‘½å‘¨æœŸè¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚æ¯”å¦‚æ‰§è¡Œä»¥ä¸‹è§„åˆ™`mainChain`ï¼š

```xml
<chain id="mainChain">
    THEN(a, b, subChain);
</chain>

<chain id="subChain">
    WHEN(c, d);
</chain>
```
é‚£ä¹ˆæ¯æ‰§è¡Œä¸€æ¬¡ï¼ŒFlowExecutorçš„ç”Ÿå‘½å‘¨æœŸåªä¼šè¢«è§¦å‘1æ¬¡ï¼Œè€ŒChainçš„ç”Ÿå‘½å‘¨æœŸä¼šè¢«è§¦å‘2æ¬¡ï¼Œåˆ†åˆ«æ˜¯`mainChain`æ‰§è¡Œå‰åå’Œ`subChain`æ‰§è¡Œå‰åã€‚

:::tip
é€šè¿‡Slotå¯¹è±¡å…¶å®å¯ä»¥æ‹¿åˆ°ä¸Šä¸‹æ–‡ï¼Œé”™è¯¯ï¼ŒStepå¾ˆå¤šå…ƒä¿¡æ¯ã€‚
:::