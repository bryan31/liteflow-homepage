---
title: ğŸ—„Etcdé…ç½®æº
date: 2022-10-06 23:19:17
permalink: /pages/4bfac2/
---

LiteFlowä»v2.9.0å¼€å§‹ï¼ŒåŸç”Ÿæ”¯æŒäº†Etcdçš„è§„åˆ™é…ç½®æºã€‚

## ä¾èµ–

å¦‚æœä½¿ç”¨Etcdä½œä¸ºè§„åˆ™é…ç½®æºï¼Œä½ éœ€è¦æ·»åŠ ä»¥ä¸‹é¢å¤–æ’ä»¶ä¾èµ–ï¼š

```xml
<dependency>
    <groupId>com.yomahub</groupId>
    <artifactId>liteflow-rule-etcd</artifactId>
    <version>2.9.1</version>
</dependency>
```

## é…ç½®

ä¾èµ–äº†æ’ä»¶åŒ…ä¹‹åï¼Œä½ æ— éœ€å†é…ç½®`liteflow.ruleSource`è·¯å¾„ã€‚

åªéœ€è¦é…ç½®æ’ä»¶çš„é¢å¤–å‚æ•°å³å¯ï¼š

<code-group>
  <code-block title="Propertiesé£æ ¼é…ç½®" active>

```properties
liteflow.rule-source-ext-data={\
    "connectStr":"http://127.0.0.1:2379",\
    "nodePath":"/liteflow/rule"\
}
```
  </code-block>
  <code-block title="Yamlé£æ ¼é…ç½®">

```yaml
liteflow:
  rule-source-ext-data-map:
    connectStr: http://127.0.0.1:2379
    nodePath: /liteflow/rule
```
  </code-block>
</code-group>

ä»¥ä¸Šåªæ˜¯ç¤ºä¾‹ï¼Œç”¨å®é™…åœºæ™¯çš„Etcdæ›¿æ¢ç›¸åº”é…ç½®å³å¯ã€‚

`connectStr`å¯ä»¥ä¸ºå•èŠ‚ç‚¹ï¼Œå¯ä»¥ä¸ºé›†ç¾¤ã€‚`nodePath`å¦‚æœä¸é…ç½®ï¼Œé»˜è®¤ä¸º`/lite-flow/flow`ã€‚

:::tip
å¦‚æœä½ æ˜¯ç”¨yamlå½¢å¼è¿›è¡Œé…ç½®ï¼Œè¿™ä¸€ä¸²jsonæ˜¯ä¸€æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ç”¨åŒå¼•å·æ‹¬èµ·æ¥ï¼Œä¸è¦é…ç½®æˆyamlçš„å¯¹è±¡æ ¼å¼
:::

::: danger
éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œä½¿ç”¨Etcdé…ç½®æºçš„æ—¶å€™ï¼ŒEtcdé‡Œå­˜çš„åªèƒ½æ˜¯xmlå½¢å¼çš„é…ç½®ã€‚
:::

## è‡ªåŠ¨åˆ·æ–°

ä½¿ç”¨äº†æ­¤Etcdé…ç½®æºæ’ä»¶ï¼Œå‡¡æ˜¯EtcdèŠ‚ç‚¹é‡Œé¢çš„è§„åˆ™æ”¹åŠ¨ï¼Œä¼šè‡ªåŠ¨æ¨é€åˆ°ä¸šåŠ¡ç³»ç»Ÿï¼Œè¿›è¡Œå®æ—¶çš„å¹³æ»‘çƒ­åˆ·æ–°ã€‚ä½ æ— éœ€åšä»»ä½•äº‹æƒ…ã€‚

## å°ä¾‹å­
ä¸ºäº†è®©å¤§å®¶èƒ½ç®€å•ä¸Šæ‰‹Etcdè§„åˆ™æ–‡ä»¶çš„é…ç½®å’Œè¿è¡Œï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå°demoï¼Œå¤§å®¶å¯ä»¥æ‹‰åˆ°æœ¬åœ°æ¥è¿è¡Œï¼Œéœ€è¦ä½ æ›¿æ¢Etcdçš„é…ç½®ä¿¡æ¯ã€‚

è¿è¡Œé¡¹ç›®å‰ï¼Œå…ˆè¯»é¡¹ç›®é‡Œçš„`readme.txt`æ–‡ä»¶ã€‚

> https://github.com/bryan31/liteflow-ext-rule-demo