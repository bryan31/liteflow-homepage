---
title: ğŸ“”è§„åˆ™æ–‡ä»¶æ ¼å¼
date: 2022-06-04 00:00:04
permalink: /pages/v2.9.X/6fa87e/
---

LiteFlowæ”¯æŒ3ç§é…ç½®æ–¹å¼
- xml
- json
- yml

jsonï¼Œymlï¼Œxmlé…ç½®èµ·æ¥éƒ½å·®ä¸å¤šï¼Œä¸ä¼šå¢åŠ ä½ é¢å¤–çš„å­¦ä¹ è´Ÿæ‹…ã€‚åªæ˜¯å½¢å¼ä¸åŒè€Œå·²ã€‚

:::tip

**åœ¨åé¢çš„ç« èŠ‚ä¸­ï¼Œç¤ºä¾‹åŸºæœ¬éƒ½æ˜¯ä»¥xmlé…ç½®æ¥è¿›è¡Œï¼Œå¦‚è¦æ¢æˆjsonå’Œymlï¼Œåˆ™è‡ªè¡Œå‚è€ƒè¿™ç« ç»™å‡ºçš„é…ç½®èŒƒæœ¬ã€‚**

:::



## è§„åˆ™ç»„æˆéƒ¨åˆ†

LiteFlowçš„è§„åˆ™æ–‡ä»¶éå¸¸è½»é‡ï¼Œéå¸¸å®¹æ˜“ä¸Šæ‰‹ã€‚ä¸»è¦ç”±`Node`èŠ‚ç‚¹å’Œ`Chain`èŠ‚ç‚¹ç»„æˆã€‚

:::tip
**å¿…é¡»è¦è¯´æ˜çš„æ˜¯ï¼Œ`Node`èŠ‚ç‚¹åœ¨Springboot/Springç¯å¢ƒä½“ç³»ä¸­æ˜¯éå¿…é¡»çš„ï¼Œåªè¦å°†ç›¸åº”çš„ç»„ä»¶æ³¨å†Œåˆ°ä¸Šä¸‹æ–‡ä¸­å³å¯ã€‚å½“ç„¶å¦‚æœé…ç½®åœ¨è§„åˆ™æ–‡ä»¶ä¸­ï¼Œæ¡†æ¶ä¹Ÿä¼šå°†èŠ‚ç‚¹æ³¨å†Œåˆ°Springä¸Šä¸‹æ–‡ä¸­ã€‚**
:::

**åœ¨éSpringç¯å¢ƒä½“ç³»ä¸­ï¼Œ`Node`èŠ‚ç‚¹æ˜¯å¿…é¡»çš„ã€‚å¦‚æœä¸é…ç½®`Node`ï¼Œç³»ç»Ÿä¼šæŠ¥æ‰¾ä¸åˆ°èŠ‚ç‚¹çš„é”™è¯¯ã€‚è¿™ç‚¹è¦åŠ¡å¿…æ³¨æ„ä¸‹ã€‚**



ä»¥ä¸‹çš„æ ¼å¼æ˜¯åªä½œä¸ºä¸€ä¸ªèŒƒæœ¬ï¼Œæä¾›ç»™ä½¿ç”¨è€…å‚è€ƒã€‚

<code-group>
<code-block title="XMLæ ¼å¼ç¤ºä¾‹" active>
:::note XMLåœ¨ä¸‰ç§æ¨¡å¼ä¸‹çš„é…ç½®ç¤ºä¾‹
åœ¨xmlå½¢å¼ä¸‹çš„rule-sourceçš„é…ç½®æ–¹å¼å¦‚ä¸‹ï¼š

æœ¬åœ°æ–‡ä»¶ï¼šliteflow.rule-source=config/flow.el.xml

è‡ªå®šä¹‰é…ç½®æºï¼šliteflow.rule-source=el_xml:com.yomahub.liteflow.test.TestCustomParser
:::
```xml
<?xml version="1.0" encoding="UTF-8"?>
<flow>
    <nodes>
        <node id="a" class="com.yomahub.liteflow.test.parser.cmp.ACmp"/>
        <node id="b" class="com.yomahub.liteflow.test.parser.cmp.BCmp"/>
        <node id="c" class="com.yomahub.liteflow.test.parser.cmp.CCmp"/>
        <node id="d" class="com.yomahub.liteflow.test.parser.cmp.DCmp"/>
    </nodes>

    <chain name="chain1">
        THEN(
            a, b, WHEN(c,d)
        );
    </chain>
</flow>
```
</code-block>

<code-block title="JSONæ ¼å¼ç¤ºä¾‹">
:::note JSONåœ¨ä¸‰ç§æ¨¡å¼ä¸‹çš„é…ç½®ç¤ºä¾‹
åœ¨jsonå½¢å¼ä¸‹çš„rule-sourceçš„é…ç½®æ–¹å¼å¦‚ä¸‹ï¼š

æœ¬åœ°æ–‡ä»¶ï¼šliteflow.rule-source=config/flow.el.json

è‡ªå®šä¹‰é…ç½®æºï¼šliteflow.rule-source=el_json:com.yomahub.liteflow.test.TestCustomParser
:::

```json
{
  "flow": {
    "nodes": {
      "node": [
        {
          "id": "a",
          "class": "com.yomahub.liteflow.test.parser.cmp.ACmp"
        },
        {
          "id": "b",
          "class": "com.yomahub.liteflow.test.parser.cmp.BCmp"
        },
        {
          "id": "c",
          "class": "com.yomahub.liteflow.test.parser.cmp.CCmp"
        },
        {
          "id": "d",
          "class": "com.yomahub.liteflow.test.parser.cmp.DCmp"
        }
      ]
    },
    "chain": [
      {
        "name": "chain1",
        "value": "THEN(a, b, WHEN(c, d))"
      }
    ]
  }
}
```
</code-block>

<code-block title="YAMLæ ¼å¼ç¤ºä¾‹">
:::note YAMLåœ¨ä¸‰ç§æ¨¡å¼ä¸‹çš„é…ç½®ç¤ºä¾‹
åœ¨yamlå½¢å¼ä¸‹çš„rule-sourceçš„é…ç½®æ–¹å¼å¦‚ä¸‹ï¼š

æœ¬åœ°æ–‡ä»¶ï¼šliteflow.rule-source=config/flow.el.yml

è‡ªå®šä¹‰é…ç½®æºï¼šliteflow.rule-source=el_yml:com.yomahub.liteflow.test.TestCustomParser

:::

```yaml
flow:
  nodes:
    node:
      - id: a
        class: com.yomahub.liteflow.test.parser.cmp.ACmp
      - id: b
        class: com.yomahub.liteflow.test.parser.cmp.BCmp
      - id: c
        class: com.yomahub.liteflow.test.parser.cmp.CCmp
      - id: d
        class: com.yomahub.liteflow.test.parser.cmp.DCmp
  chain:
    - name: chain1
      value: "THEN(a, b, WHEN(c, d))"
```

</code-block>

</code-group>