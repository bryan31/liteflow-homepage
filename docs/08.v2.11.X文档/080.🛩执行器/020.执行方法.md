---
title: ğŸ¡æ‰§è¡Œæ–¹æ³•
date: 2022-07-01 23:03:12
permalink: /pages/executor/method/
---

ä½ å¯ä»¥åœ¨Springboot/Springä½“ç³»ä¸­çš„ä»»ä½•è¢«Springä¸Šä¸‹æ–‡ç®¡ç†çš„ç±»ä¸­è¿›è¡Œæ³¨å…¥`FlowExecutor`ã€‚

`FlowExecutor`æœ‰å¤šä¸ªé‡è½½æ–¹æ³•ã€‚

## è¿”å›ç±»å‹ä¸ºLiteflowResponse

```java
//å‚æ•°ä¸ºæµç¨‹IDï¼Œæ— åˆå§‹æµç¨‹å…¥å‚ï¼Œä¸Šä¸‹æ–‡ç±»å‹ä¸ºé»˜è®¤çš„DefaultContext
public LiteflowResponse execute2Resp(String chainId)
//ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæµç¨‹IDï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæµç¨‹å…¥å‚ã€‚ä¸Šä¸‹æ–‡ç±»å‹ä¸ºé»˜è®¤çš„DefaultContext
public LiteflowResponse execute2Resp(String chainId, Object param);
//ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæµç¨‹IDï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæµç¨‹å…¥å‚ï¼Œåé¢å¯ä»¥ä¼ å…¥å¤šä¸ªä¸Šä¸‹æ–‡class
public LiteflowResponse execute2Resp(String chainId, Object param, Class<?>... contextBeanClazzArray)
//ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæµç¨‹IDï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæµç¨‹å…¥å‚ï¼Œåé¢å¯ä»¥ä¼ å…¥å¤šä¸ªä¸Šä¸‹æ–‡çš„Bean
public LiteflowResponse execute2Resp(String chainId, Object param, Object... contextBeanArray)
```
:::tip å»ºè®®
åœ¨è¿™é‡Œï¼Œå®˜æ–¹åªæ¨èä½ ç”¨ç¬¬3ï¼Œ4ä¸ªæ–¹æ³•ï¼Œå‰é¢2ä¸ªå› ä¸ºæ˜¯é»˜è®¤ä¸Šä¸‹æ–‡ï¼Œå¯ä»¥ç”¨äºæµ‹è¯•åœºæ™¯ï¼Œåœ¨ç”Ÿäº§åœºæ™¯ä¸­å°½é‡åˆ«ç”¨é»˜è®¤ä¸Šä¸‹æ–‡ã€‚
:::

## è¿”å›ç±»å‹ä¸ºFuture

```java
public Future<LiteflowResponse> execute2Future(String chainId, Object param, Class<?>... contextBeanClazzArray)
```

å¦‚æœè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œé‚£å°±æ˜¯æ— é˜»å¡çš„ï¼Œæƒ³è¦æ‹¿åˆ°responseï¼Œè¯·ç”¨å¾—åˆ°çš„future.get()å°±å¯ä»¥äº†ã€‚

åŒæ—¶ï¼Œä¸»æ‰§è¡Œå™¨åœ¨è¿™ä¸ªæ¨¡å¼ä¸‹çš„çº¿ç¨‹æ•°å’Œçº¿ç¨‹æ± ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼ŒLiteFlowå·²ç»è®¾ç½®äº†é¢„è®¾å€¼ï¼Œä½ ä¹Ÿå¯è‡ªå·±å®šä¹‰ã€‚

```properties
liteflow.main-executor-works=64
liteflow.main-executor-class=com.yomahub.liteflow.thread.LiteFlowDefaultMainExecutorBuilder
```

å¦‚æœä½ å®šä¹‰äº†è‡ªå®šä¹‰çº¿ç¨‹æ± ï¼Œä½ éœ€æ–°å»ºä¸€ä¸ªç±»ï¼Œç„¶åå®ç°`ExecutorBuilder`æ¥å£ï¼š

```java
public class CustomThreadBuilder implements ExecutorBuilder {
    @Override
    public ExecutorService buildExecutor() {
        return Executors.newCachedThreadPool();
    }
}
```


