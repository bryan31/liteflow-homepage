---
title: ğŸŒ¯æ•°æ®ä¸Šä¸‹æ–‡çš„å®šä¹‰å’Œä½¿ç”¨
date: 2022-07-01 23:49:40
permalink: /pages/v2.10.X/501abf/
---

## é»˜è®¤ä¸Šä¸‹æ–‡

LiteFlowæä¾›äº†ä¸€ä¸ªé»˜è®¤çš„æ•°æ®ä¸Šä¸‹æ–‡çš„å®ç°ï¼š`DefaultContext`ã€‚è¿™ä¸ªé»˜è®¤çš„å®ç°å…¶å®é‡Œé¢ä¸»è¦å­˜å‚¨æ•°æ®çš„å®¹å™¨å°±æ˜¯ä¸€ä¸ªMapã€‚

ä½ å¯ä»¥é€šè¿‡`DefaultContext`ä¸­çš„`setData`æ–¹æ³•æ”¾å…¥æ•°æ®ï¼Œé€šè¿‡`getData`æ–¹æ³•è·å¾—æ•°æ®ã€‚

:::tip å»ºè®®
`DefaultContext`è™½ç„¶å¯ä»¥ç”¨ï¼Œä½†æ˜¯åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œç”¨è¿™ä¸ªä¼šå­˜åœ¨å¤§é‡çš„å¼±ç±»å‹ï¼Œå­˜å–æ•°æ®çš„æ—¶å€™éƒ½è¦è¿›è¡Œå¼ºè½¬ï¼Œé¢‡ä¸ºä¸æ–¹ä¾¿ã€‚æ‰€ä»¥å®˜æ–¹å»ºè®®ä½ è‡ªå·±å»å®ç°è‡ªå·±çš„æ•°æ®ä¸Šä¸‹æ–‡ã€‚
:::

## è‡ªå®šä¹‰ä¸Šä¸‹æ–‡

ä½ å¯ä»¥ç”¨ä½ è‡ªå·±çš„ä»»æ„çš„Beanå½“åšä¸Šä¸‹æ–‡è¿›è¡Œä¼ å…¥ã€‚LiteFlowå¯¹ä¸Šä¸‹æ–‡çš„Beanæ²¡æœ‰ä»»ä½•è¦æ±‚ã€‚

è‡ªå·±å®šä¹‰çš„ä¸Šä¸‹æ–‡å®è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„å€¼å¯¹è±¡ï¼Œè‡ªå·±å®šä¹‰çš„ä¸Šä¸‹æ–‡å› ä¸ºæ˜¯å¼ºç±»å‹ï¼Œæ›´åŠ è´´åˆä¸šåŠ¡ã€‚

ä½ å¯ä»¥åƒè¿™æ ·è¿›è¡Œä¼ å…¥ï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", æµç¨‹åˆå§‹å‚æ•°, CustomContext.class);
```

ä¼ å…¥ä¹‹åï¼Œ LiteFlowä¼šåœ¨è°ƒç”¨æ—¶è¿›è¡Œåˆå§‹åŒ–ï¼Œç»™è¿™ä¸ªä¸Šä¸‹æ–‡åˆ†é…å”¯ä¸€çš„å®ä¾‹ã€‚ä½ åœ¨ç»„ä»¶ä¹‹ä¸­å¯ä»¥è¿™æ ·å»è·å¾—è¿™ä¸ªä¸Šä¸‹æ–‡å®ä¾‹ï¼š

```java
@LiteflowComponent("yourCmpId")
public class YourCmp extends NodeComponent {

	@Override
	public void process() {
		CustomContext context = this.getContextBean(CustomContext.class);
		//æˆ–è€…ä½ ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•å»è·å–ä¸Šä¸‹æ–‡å®ä¾‹ï¼Œå’Œä¸Šé¢æ˜¯ç­‰ä»·çš„
		//CustomContext context = this.getFirstContextBean();
		...
	}
}
```

å…³äºç»„ä»¶ä¹‹ä¸­è¿˜å¯ä»¥è·å¾—å“ªäº›é»˜è®¤çš„å‚æ•°ï¼Œè¯·å‚è€ƒ[æ™®é€šç»„ä»¶](/pages/v2.10.X/8486fb/)ã€‚

## å¤šä¸Šä¸‹æ–‡

LiteFlowåœ¨æ–°ç‰ˆæœ¬ä¸­æ”¯æŒäº†å¤šä¸Šä¸‹æ–‡ï¼Œåœ¨æ‰§è¡Œçš„æ—¶å€™åŒæ—¶åˆå§‹åŒ–ä½ ä¼ å…¥çš„å¤šä¸ªä¸Šä¸‹æ–‡ã€‚åœ¨ç»„ä»¶é‡Œä¹Ÿå¯ä»¥æ ¹æ®classç±»å‹å¾ˆæ–¹ä¾¿çš„æ‹¿åˆ°ã€‚

ä½ å¯ä»¥åƒè¿™æ ·è¿›è¡Œä¼ å…¥ï¼ˆçœ‹ä¸å…¨çš„å¯ä»¥å¾€åæ‹‰ï¼‰ï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", æµç¨‹åˆå§‹å‚æ•°, OrderContext.class, UserContext.class, SignContext.class);
```

åœ¨ç»„ä»¶ä¹‹ä¸­å¯ä»¥è¿™æ ·å»è·å¾—è¿™ä¸ªä¸Šä¸‹æ–‡å®ä¾‹ï¼š

```java
@LiteflowComponent("yourCmpId")
public class YourCmp extends NodeComponent {

	@Override
	public void process() {
		OrderContext orderContext = this.getContextBean(OrderContext.class);
		UserContext userContext = this.getContextBean(UserContext.class);
		SignContext signContext = this.getContextBean(SignContext.class);
		
		//å¦‚æœä½ åªæƒ³è·å–ç¬¬ä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œç¬¬ä¸€ä¸ªä¸Šä¸‹æ–‡æ˜¯OrderContextï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•
		//OrderContext orderContext = this.getFirstContextBean();
		...
	}
}
```