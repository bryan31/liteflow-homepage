(window.webpackJsonp=window.webpackJsonp||[]).push([[286],{746:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("LiteFlow从v2.11.0开始，原生支持了Redis的规则配置源。")]),t._v(" "),s("h2",{attrs:{id:"依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖"}},[t._v("#")]),t._v(" 依赖")]),t._v(" "),s("p",[t._v("如果使用Redis作为规则配置源，你需要添加以下额外插件依赖：")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.yomahub"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("liteflow-rule-redis"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.11.4.2"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("依赖了插件包之后，你无需再配置"),s("code",[t._v("liteflow.ruleSource")]),t._v("路径。")]),t._v(" "),s("p",[t._v("只需要配置插件的额外参数即可。")]),t._v(" "),s("h2",{attrs:{id:"配置模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置模式"}},[t._v("#")]),t._v(" 配置模式")]),t._v(" "),s("p",[t._v("Redis配置源支持平滑热刷新，在刷新机制上实现了【"),s("strong",[t._v("轮询")]),t._v("】和【"),s("strong",[t._v("订阅")]),t._v("】两种模式，可通过配置自由选择。")]),t._v(" "),s("blockquote",[s("p",[t._v("【"),s("strong",[t._v("轮询模式")]),t._v("】：基于Redis的Hash结构，通过定时轮询的方式进行规则刷新，轮询频率可配置，轮询间隔内有一定刷新延迟。")]),t._v(" "),s("p",[t._v("【"),s("strong",[t._v("订阅模式")]),t._v("】：基于Redisson客户端的RMapCache存储结构，只支持使用Redisson客户端，可实现规则的实时平滑刷新。")])]),t._v(" "),s("p",[t._v("两种模式的插件依赖相同，仅通过配置参数加以区分。 如果没有配置模式选择，"),s("strong",[t._v("默认为轮询模式")]),t._v("。")]),t._v(" "),s("p",[t._v("两种模式的工作原理及具体配置方式详见对应子菜单：")]),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/pages/v2.11.X/186747/"}},[t._v("Redis配置源-轮询模式")])],1),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/pages/v2.11.X/3f553f/"}},[t._v("Redis配置源-订阅模式")])],1),t._v(" "),s("h2",{attrs:{id:"配置模式选择"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置模式选择"}},[t._v("#")]),t._v(" 配置模式选择")]),t._v(" "),s("p",[t._v("基于两种工作模式的特点，推荐根据实际需要进行选择。")]),t._v(" "),s("blockquote",[s("ul",[s("li",[s("p",[t._v("如果你需要采用其他Redis客户端 (如Jedis等)，且接受轮询间隔内的数据刷新延迟，推荐你配置为【"),s("strong",[t._v("轮询模式")]),t._v("】")])]),t._v(" "),s("li",[s("p",[t._v("如果你需要确保规则刷新的实时性，不容忍轮询间隔内的延迟，且接受使用Redisson，推荐你配置为【"),s("strong",[t._v("订阅模式")]),t._v("】")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);