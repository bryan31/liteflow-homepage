(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{353:function(t,i,e){},465:function(t,i,e){"use strict";e(353)},470:function(t,i,e){"use strict";e.r(i);e(14),e(405);var o=e(406),n={name:"Notice",data:()=>({notifyPromise:Promise.resolve(),showOverlay:!1,activeNotifications:[]}),props:{initTop:{type:Number,default:55},data:{type:Array,default:[{id:null,title:"最新公告",content:"演示示例",isHtmlContent:!1,position:"top-right",width:null,height:null,confirmUrl:null}]}},mounted(){this.data.filter(t=>null!=t.id&&!this.isNoticeRecentlyClosed(t.id)).forEach(t=>{this.notifyPromise=this.notifyPromise.then(()=>{const i="center"===(t.position||"top-right");i&&(this.showOverlay=!0);let e=t.content;if(i){const i="confirm-btn-"+t.id;e=`\n            <div class="notice-center-content">\n              <div class="notice-center-body">${t.content}</div>\n              <div class="notice-center-footer">\n                <button class="notice-confirm-btn" id="${i}">确认</button>\n              </div>\n            </div>\n          `}const n=Object(o.Notification)({title:t.title,message:e,dangerouslyUseHTMLString:!0,duration:0,offset:i?0:this.initTop,customClass:i?"notice-center "+(t.customClass||""):t.customClass||"",onClose:()=>{const e=this.activeNotifications.findIndex(t=>t===n);e>-1&&this.activeNotifications.splice(e,1),this.saveNoticeCloseTime(t.id),i&&0===this.activeNotifications.length&&(this.showOverlay=!1)}});this.activeNotifications.push(n),i&&this.$nextTick(()=>{const i=n.$el;if(i){t.width&&(i.style.width="number"==typeof t.width?t.width+"px":t.width),t.height&&(i.style.height="number"==typeof t.height?t.height+"px":t.height);const e=i.querySelector("#confirm-btn-"+t.id);e&&e.addEventListener("click",i=>{i.stopPropagation(),t.confirmUrl&&window.open(t.confirmUrl,"_blank"),n.close()})}})})})},methods:{saveNoticeCloseTime(t){const i=JSON.parse(localStorage.getItem("noticeCloseTime")||"{}");i[t]=Date.now(),localStorage.setItem("noticeCloseTime",JSON.stringify(i))},isNoticeRecentlyClosed(t){const i=JSON.parse(localStorage.getItem("noticeCloseTime")||"{}")[t];if(!i)return!1;return Date.now()-i<216e5},closeAllNotifications(){this.activeNotifications.forEach(t=>{t.close()}),this.activeNotifications=[],this.showOverlay=!1}}},s=(e(465),e(8)),c=Object(s.a)(n,(function(){var t=this._self._c;return this.showOverlay?t("div",{staticClass:"notice-overlay"}):this._e()}),[],!1,null,null,null);i.default=c.exports}}]);