(window.webpackJsonp=window.webpackJsonp||[]).push([[532],{994:function(s,t,a){"use strict";a.r(t);var e=a(8),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("LiteFlow为执行的过程提供了详细的步骤信息。")]),s._v(" "),t("p",[s._v("获取一条流程执行的步骤信息是通过"),t("code",[s._v("LiteflowResponse")]),s._v("对象来获取的：")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LiteflowResponse")]),s._v(" response "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" flowExecutor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("execute2Resp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"chain1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"初始参数"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CustomContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Map")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CmpStep")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" stepMap "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" response"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getExecuteSteps")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//或者你也可以通过以下的语句来获得一个步骤队列")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Queue")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CmpStep")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" stepQueue "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" response"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getExecuteStepQueue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("以上这2个方法的区别是：")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("获得"),t("code",[s._v("Map")]),s._v("返回值的那个方法，如果有多个相同的组件，那么以上这个方法获得的"),t("code",[s._v("Map")]),s._v("中这个组件id的value是最终的那个步骤信息。")]),s._v(" "),t("p",[s._v("而获得"),t("code",[s._v("Queue<CmpStep>")]),s._v("这个返回值的方法，返回值里包含了所有的步骤信息，相同的组件在规则里定义n次，那么这里也有n个步骤。")])]),s._v(" "),t("p",[s._v("在"),t("code",[s._v("CmpStep")]),s._v("这个对象里，你可以通过以下方法获得你要的数据：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("isSuccess")]),s._v("：此组件是否执行成功")]),s._v(" "),t("li",[t("code",[s._v("getNodeId")]),s._v("：获得组件Id")]),s._v(" "),t("li",[t("code",[s._v("getNodeName")]),s._v("：获得组件名称")]),s._v(" "),t("li",[t("code",[s._v("getTag")]),s._v("：获得组件标签值")]),s._v(" "),t("li",[t("code",[s._v("getTimeSpent")]),s._v("：获得组件的耗时，单位为毫秒")]),s._v(" "),t("li",[t("code",[s._v("getException")]),s._v("：获取此组件抛出的异常，如果isSuccess为false的话。但是这里要注意下：有exception，success一定为false，但是success为false，不一定有exception，因为有可能没执行到，或者没执行结束(any的情况)。")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("如果你的某一个组件抛出了异常，在默认配置情况下，流程会中断。那么"),t("code",[s._v("response.getCause()")]),s._v("和相应组件步骤里的exception都是一致的。且没执行的组件不会有相应步骤信息。")])])])}),[],!1,null,null,null);t.default=n.exports}}]);